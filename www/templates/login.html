<ion-view title="{{navTitle}}">
    <ion-nav-bar class="AP-bar">
        <ion-header-bar class="bar-stable">
        </ion-header-bar>
    </ion-nav-bar>
    <ion-content class="AP-content">
        <div ng-show="error" class="alert alert-danger">{{error}}</div>
        <form class="AP-form AP-login" name="loginForm" ng-submit="doLogin()" role="form">
            <ion-list class="padding">
                <ion-item class="item-icon-left error-container error row" ng-show="loginFail">
                    <i class="ion-information-circled col-10 col-center text-center"></i>
                    <div class="col">
                        Login Failed, Error message: {{loginError}}
                    </div>
                </ion-item>
                <ion-item class="">
                    <label class="item item-input item-floating-label" ng-class="{ 'has-errors' : loginForm.username.$dirty&&loginForm.username.$invalid, 'no-errors' : loginForm.username.$dirty&&loginForm.username.$valid}">
                        <span class="input-label">Username</span>
                        <input type="text" placeholder="Username" name="username" ng-model="user.name" required>
                    </label>
                    <div class="error-container" ng-show="loginForm.username.$dirty&&loginForm.username.$invalid">
                        <div class="error">
                            <i class="ion-information-circled"></i> User Name is required!
                        </div>
                    </div>
                </ion-item>
                <ion-item class="">
                    <label class="item item-input item-floating-label" ng-class="{ 'has-errors' : loginForm.password.$dirty&&loginForm.password.$invalid, 'no-errors' : loginForm.password.$dirty&&loginForm.password.$valid}">
                        <span class="input-label">Password</span>
                        <input type="password" placeholder="password" name="password" ng-model="user.password" required>
                    </label>
                    <div class="error-container" ng-show="loginForm.password.$dirty&&loginForm.password.$invalid">
                        <div class="error">
                            <i class="ion-information-circled"></i> Password is required!
                        </div>
                    </div>
                </ion-item>
                <ion-item class="">
                    <button type="submit" class="button button-block button-positive" ng-disabled="loginForm.$invalid">
                        Sign-In
                    </button>
                    <p class="text-center">
                        <a>Forgot password</a>
                    </p>
                </ion-item>
            </ion-list>
        </form>
    </ion-content>
</ion-view>
